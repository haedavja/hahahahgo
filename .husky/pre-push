#!/bin/sh

echo "ğŸ” Pre-push checks..."

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
echo "ğŸ“‹ Running tests..."
npm test
if [ $? -ne 0 ]; then
  echo "âŒ Tests failed. Push aborted."
  exit 1
fi

# ë¹Œë“œ ê²€ì¦
echo "ğŸ—ï¸ Verifying build..."
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ Build failed. Push aborted."
  exit 1
fi

# ë²ˆë“¤ í¬ê¸° ê²€ì‚¬
echo "ğŸ“¦ Checking bundle size..."
npm run check:bundle
if [ $? -ne 0 ]; then
  echo "âŒ Bundle size budget exceeded. Push aborted."
  exit 1
fi

echo "âœ… All pre-push checks passed!"
