# v11-16-09:43 - 예상 피해량 창 오른쪽 세로 배치

**날짜**: 2025-11-16 09:43 (KST)
**커밋**: (커밋 예정)

## 변경 사항

### 1. 타임라인과 예상 피해량 창 좌우 배치

**파일**: `src/components/battle/LegacyBattleApp.jsx` (926-1003줄)
- 타임라인과 예상 피해량 창을 flex container로 묶음
- **flex 레이아웃**: `display: flex`, `gap: 24px`, `alignItems: flex-start`
- **타임라인**: `flex: 1` - 남은 공간 차지
- **예상 피해량**: `width: 300px`, `flexShrink: 0` - 고정 너비 300px
- 타임라인이 왼쪽, 예상 피해량이 오른쪽 여백에 배치

### 2. ExpectedDamagePreview 세로 레이아웃 변경

**파일**: `src/components/battle/LegacyBattleApp.jsx` (401-444줄)
- **기존**: 가로 배치 (summary + logs 좌우 배치)
- **변경**: 세로 배치 (summary → logs → hp 위에서 아래로)
- **새 클래스 추가**:
  - `expect-board-vertical` - 세로 레이아웃용 보드
  - `expect-summary-vertical` - summary 항목들 세로 배치
  - `expect-item-vertical` - 각 항목 세로로 쌓기
  - `expect-log-vertical` - 로그 세로 배치, 스크롤 추가
  - `expect-hp-vertical` - HP 정보 세로 배치

### 3. CSS 스타일 추가

**파일**: `src/components/battle/legacy-battle.css`

#### expect-board-vertical (288-291줄)
```css
.expect-board-vertical {
  padding: 16px 20px;
  font-size: 0.9rem;
}
```

#### expect-summary-vertical (302-309줄)
```css
.expect-summary-vertical {
  display: flex;
  flex-direction: column;
  gap: 16px;
  border-bottom: 1px solid rgba(148, 163, 184, 0.15);
  padding-bottom: 16px;
  margin-bottom: 16px;
}
```

#### expect-item-vertical (317-321줄)
```css
.expect-item-vertical {
  display: flex;
  align-items: center;
  gap: 12px;
}
```

#### expect-log-vertical (344-350줄)
```css
.expect-log-vertical {
  border-bottom: 1px solid rgba(148, 163, 184, 0.15);
  padding-bottom: 12px;
  margin-bottom: 12px;
  max-height: 300px;
  overflow-y: auto;
}
```

#### expect-hp-vertical (360-366줄)
```css
.expect-hp-vertical {
  display: flex;
  flex-direction: column;
  gap: 8px;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.8);
}
```

## 기술 세부사항

### 레이아웃 구조

**이전**:
```
┌─────────────────────────────────┐
│  Timeline                       │
└─────────────────────────────────┘
┌─────────────────────────────────┐
│  [Summary] [Logs Grid]          │
│  [HP Info]                      │
└─────────────────────────────────┘
```

**변경 후**:
```
┌────────────────┬──────────┐
│  Timeline      │ Summary  │
│                │ ────────│
│                │ Log 1.   │
│                │ Log 2.   │
│                │ Log 3.   │
│                │ ────────│
│                │ HP Info  │
└────────────────┴──────────┘
```

### 주요 변경 포인트

1. **타임라인 너비 확장**
   - 기존: 전체 너비 사용
   - 변경: `flex: 1`로 남은 공간 모두 사용
   - 예상 피해량 창이 오른쪽에 300px 고정폭으로 배치

2. **예상 피해량 창 세로 정렬**
   - Summary 항목들이 세로로 쌓임 (flexDirection: column)
   - 로그들이 세로로 쌓임 (grid 제거, 단순 세로 배치)
   - max-height: 300px, overflow-y: auto로 스크롤 지원

3. **공간 활용**
   - 타임라인이 더 넓어져서 많은 카드 표시 가능
   - 예상 피해량 창이 오른쪽 여백에 고정되어 시야 방해 최소화
   - 세로 배치로 정보 구조화

## UI 개선 효과

### 장점
1. **타임라인 가독성 향상**
   - 타임라인이 더 넓어져서 많은 마커 표시 가능
   - 카드들이 겹치는 경우 더 잘 보임

2. **예상 피해량 정보 구조화**
   - 세로 배치로 정보가 위에서 아래로 흐름
   - 각 항목이 명확하게 구분됨
   - 로그가 많아도 스크롤로 모두 확인 가능

3. **공간 활용 최적화**
   - 오른쪽 여백을 활용하여 정보 표시
   - 타임라인이 중심을 차지
   - 고정 너비로 일관된 레이아웃

### 단점 및 고려사항
- 화면이 좁을 경우 300px 고정폭이 부담될 수 있음
- 반응형 디자인 필요 시 추가 조정 필요

## 이전 버전과의 차이

**이전 버전 (v11-16-09:33)**:
- 타임라인 아래에 예상 피해량 창 배치 (세로로 쌓임)
- 예상 피해량 창 내부는 가로 배치 (summary 왼쪽, logs 오른쪽)
- 전체 너비 사용

**현재 버전**:
- 타임라인과 예상 피해량 창 좌우 배치
- 예상 피해량 창 내부는 세로 배치 (summary → logs → hp)
- 타임라인 `flex: 1`, 예상 피해량 `300px` 고정

## 다음 AI를 위한 참고사항

1. **flex vs grid**: 타임라인과 예상 피해량은 flex로 배치, 내부는 각각 다른 레이아웃
2. **flexShrink: 0**: 예상 피해량 창이 줄어들지 않도록 고정
3. **max-height + overflow-y**: 로그가 많아도 300px 내에서 스크롤
4. **조건부 렌더링**: `phase==='respond' || phase==='select'`일 때만 예상 피해량 표시
5. **반응형 고려**: 작은 화면에서는 300px 고정폭이 부담될 수 있으니 미디어 쿼리 추가 검토

## 변경 파일 목록

- `src/components/battle/LegacyBattleApp.jsx`
  - 타임라인과 예상 피해량 창 flex container로 묶기 (926-1003줄)
  - ExpectedDamagePreview 세로 레이아웃으로 변경 (401-444줄)
- `src/components/battle/legacy-battle.css`
  - expect-board-vertical 스타일 추가 (288-291줄)
  - expect-summary-vertical 스타일 추가 (302-309줄)
  - expect-item-vertical 스타일 추가 (317-321줄)
  - expect-log-vertical 스타일 추가 (344-350줄)
  - expect-hp-vertical 스타일 추가 (360-366줄)
- `src/components/map/MapDemo.jsx`
  - 버전 태그 업데이트
- `CHANGELOG/v11-16-09-43.md`
  - 새 버전 문서 생성
