# v11-16-09:33 - 손패 반투명화, 전투창 중앙 배치, 카드 순서 버튼 위치 변경

**날짜**: 2025-11-16 09:33 (KST)
**커밋**: (커밋 예정)

## 변경 사항

### 1. 손패 영역 반투명화

**파일**: `src/components/battle/legacy-battle.css` (460-476줄)
- **background**: `rgba(4, 6, 22, 0.75)` - 75% 불투명도로 변경
- **backdrop-filter**: `blur(8px)` 추가 - 뒤 배경 블러 효과
- 손패가 다른 인터페이스와 겹쳐도 뒤 내용이 보임
- 블러 효과로 가독성 유지

### 2. 전투창 중앙 배치

**파일**: `src/components/battle/LegacyBattleApp.jsx` (922줄)
- **className 변경**: `ml-auto` → `mx-auto`
  - 기존: 왼쪽에서 자동으로 밀어서 오른쪽 정렬
  - 변경: 좌우 자동 마진으로 중앙 정렬
- 전투창이 화면 중앙에 배치되는 느낌

### 3. 대응 단계 카드 순서 버튼 위치 변경

**파일**: `src/components/battle/LegacyBattleApp.jsx` (1191-1243줄)
- **레이아웃 구조 변경**: 카드와 버튼을 수직 배치
  - `display: flex`, `flexDirection: 'column'`, `gap: '8px'`
  - 카드가 위, 버튼이 아래
- **버튼 위치**: 카드 하단으로 이동
  - 기존: 카드 내부 또는 겹쳐서 표시
  - 변경: 카드 아래 별도 영역에 배치
- 카드 선택 및 내용 확인에 방해되지 않음

## 기술 세부사항

### 손패 영역 CSS
```css
.hand-area {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  background: rgba(4, 6, 22, 0.75);  /* 반투명 */
  backdrop-filter: blur(8px);         /* 블러 효과 */
  border-radius: 28px 28px 0 0;
  padding: 28px 32px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-bottom: none;
  box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.6);
  z-index: 100;
}
```

### 전투창 루트 클래스
```jsx
<div className="legacy-battle-root w-full max-w-[1400px] min-h-screen mx-auto pb-64">
  {/* mx-auto로 중앙 정렬 */}
</div>
```

### 대응 단계 카드 + 버튼 구조
```jsx
{phase==='respond' && fixedOrder && (
  <div className="hand-cards">
    {fixedOrder.filter(a=>a.actor==='player').map((action,idx,arr)=>{
      return (
        <div style={{
          display: 'flex',
          flexDirection: 'column',  // 수직 배치
          gap: '8px',
          alignItems: 'center'
        }}>
          <div className="game-card-large">
            {/* 카드 내용 */}
          </div>
          <div style={{display: 'flex', gap: '8px'}}>
            {/* ← → 버튼들 */}
          </div>
        </div>
      );
    })}
  </div>
)}
```

## UI 개선 효과

### 1. 반투명 손패
- **장점**:
  - 손패가 다른 UI 요소를 완전히 가리지 않음
  - 타임라인이나 전투 상황이 손패 뒤로 보임
  - 블러 효과로 손패 가독성 유지
- **사용성**: 전투 정보와 손패를 동시에 확인 가능

### 2. 중앙 배치 전투창
- **장점**:
  - 화면 중앙에 전투가 펼쳐지는 느낌
  - 좌우 균형감 있는 배치
- **이전**: 오른쪽으로 치우친 느낌

### 3. 버튼 하단 배치
- **장점**:
  - 카드 이미지와 정보가 버튼에 가려지지 않음
  - 순서 변경 버튼이 명확하게 구분됨
- **이전**: 카드와 버튼이 겹쳐서 혼란

## 이전 버전과의 차이

**이전 버전 (v11-16-09:26)**:
- 손패 영역이 불투명 (`rgba(4, 6, 22, 0.95)`)
- 전투창이 왼쪽 정렬 (`ml-auto`)
- 카드 순서 버튼이 카드와 겹침

**현재 버전**:
- 손패 영역이 반투명 (`rgba(4, 6, 22, 0.75)`) + 블러
- 전투창이 중앙 정렬 (`mx-auto`)
- 카드 순서 버튼이 카드 하단에 별도 배치

## 다음 AI를 위한 참고사항

1. **backdrop-filter**: CSS blur 효과, 일부 구형 브라우저에서 미지원 가능
2. **mx-auto**: Tailwind CSS 클래스, `margin-left: auto; margin-right: auto;`와 동일
3. **flexDirection: 'column'**: React inline style, 수직 배치 레이아웃
4. **opacity vs rgba**: 손패는 rgba로 배경만 투명, 자식 요소는 불투명 유지

## 변경 파일 목록

- `src/components/battle/legacy-battle.css`
  - .hand-area 스타일 수정 (반투명 + 블러)
- `src/components/battle/LegacyBattleApp.jsx`
  - 전투창 루트 클래스 변경 (ml-auto → mx-auto)
  - 대응 단계 카드 레이아웃 변경 (버튼 하단 배치)
- `src/components/map/MapDemo.jsx`
  - 버전 태그 업데이트
- `CHANGELOG/v11-16-09-33.md`
  - 새 버전 문서 생성
