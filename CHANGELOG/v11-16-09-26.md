# v11-16-09:26 - 대응 단계 카드 순서 버튼 변경 및 로그 표시 개선

**날짜**: 2025-11-16 09:26 (KST)
**커밋**: (커밋 예정)

## 변경 사항

### 1. 대응 단계 카드 순서 변경 버튼 수정

**파일**: `src/components/battle/LegacyBattleApp.jsx` (1220, 1231줄)
- 버튼 아이콘 변경: `↑↓` → `←→`
  - 왼쪽 이동: `↑` → `←`
  - 오른쪽 이동: `↓` → `→`
- 더 직관적인 수평 방향 표시

### 2. 타임라인 로그 위치 및 형식 변경

**파일**: `src/components/battle/LegacyBattleApp.jsx` (411-445줄)
- **로그 위치 변경**: 타임라인 하단 → 예상 피해량 오른쪽
- **순서 번호 추가**: 각 로그에 1., 2., 3., ... 형식으로 번호 표시
- **그리드 레이아웃**: 자리가 부족하면 오른쪽으로 이어서 표시
  - `display: grid`
  - `gridTemplateColumns: repeat(auto-fill, minmax(280px, 1fr))`
  - 자동으로 컬럼 수 조정

## 기술 세부사항

### ExpectedDamagePreview 구조 변경

**이전 구조**:
```
expect-board
├─ expect-summary (가한/받은 피해)
├─ expect-hp (HP 변화)
└─ expect-log (로그, 하단에 세로로 3개만)
```

**현재 구조**:
```
expect-board
├─ flex 컨테이너 (가로 배치)
│  ├─ expect-summary (가한/받은 피해)
│  └─ 로그 그리드 (순서 번호 + 로그, 오른쪽으로 확장)
└─ expect-hp (HP 변화)
```

### 로그 그리드 스타일
```jsx
<div style={{
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',
  gap: '8px',
  flex: 1
}}>
  {res.lines.map((line,idx)=>(
    <div key={idx} style={{fontSize: '13px', color: '#cbd5e1'}}>
      <span style={{color: '#94a3b8', marginRight: '4px'}}>
        {idx + 1}.
      </span>
      {line}
    </div>
  ))}
</div>
```

## 로그 표시 예시

```
플레이어 예상 가한 피해: 15    플레이어 피격 피해: 8    1. 몬스터→플레이어 데미지 3(체력 40-37)
                                                       2. 플레이어→몬스터 데미지 5(체력 60-55)
                                                       3. 몬스터→플레이어 데미지 2(체력 37-35)
```

- 왼쪽: 예상 피해량 요약
- 오른쪽: 순서가 있는 상세 로그 (그리드로 여러 컬럼)

## 이전 버전과의 차이

**이전 버전 (v11-16-09:19)**:
- 대응 단계 카드 순서 버튼: ↑↓
- 로그가 예상 피해량 하단에 세로로만 표시 (3개 제한)

**현재 버전**:
- 대응 단계 카드 순서 버튼: ←→
- 로그가 예상 피해량 오른쪽에 그리드로 표시 (모든 로그, 자동 확장)

## 다음 AI를 위한 참고사항

1. **로그 순서**: `res.lines` 배열의 순서대로 1, 2, 3, ... 번호 표시
2. **그리드 자동 확장**: `auto-fill`과 `minmax(280px, 1fr)`로 공간에 따라 컬럼 수 자동 조정
3. **flex: 1**: 로그 영역이 가능한 공간을 모두 차지하도록 설정
4. **제한 해제**: 이전의 `slice(0,3)` 제한 제거, 모든 로그 표시

## 변경 파일 목록

- `src/components/battle/LegacyBattleApp.jsx`
  - ExpectedDamagePreview 컴포넌트 레이아웃 변경
  - 대응 단계 카드 순서 버튼 아이콘 변경
- `src/components/map/MapDemo.jsx`
  - 버전 태그 업데이트
- `CHANGELOG/v11-16-09-26.md`
  - 새 버전 문서 생성
