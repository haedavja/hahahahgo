# v11-18-13:55 패치 노트

## 주요 변경사항

### 1. 콤보 배율 표시 텍스트 크기 30% 증가 📊
**변경**: 콤보 배율 (×0.50 등) 표시가 더 크고 명확해졌습니다.

#### 세부사항:
- 이전: `font-size: 0.8em`
- 현재: `font-size: 1.04em` (정확히 30% 증가)
- 에테르 획득량 옆에 표시되는 배율 텍스트 강조

#### 효과:
- 디플레이션 배율을 더 쉽게 확인 가능
- 전투 중 에테르 획득 배율 정보 가독성 향상

### 2. 진행 단계 카드 소멸 애니메이션 구현 ✨
**변경**: 진행 단계에서 사용된 카드가 부드럽게 사라집니다.

#### 애니메이션 흐름:
```
카드 사용 (E키/한 단계 버튼)
  ↓ (300ms)
펄스 효과 (카드가 빛나며 강조)
  ↓ (600ms)
페이드 아웃 + 위로 이동하며 소멸
  ↓
카드 완전히 제거
```

#### 기술적 구현:
- **새로운 상태 추가**:
  - `disappearingCards`: 사라지는 중인 카드 추적
  - `hiddenCards`: 완전히 숨겨진 카드 추적
- **CSS 애니메이션**:
  - `.card-used`: 펄스 효과 (0.3초, 확대/축소)
  - `.card-disappearing`: 페이드 아웃 (0.6초, 투명도 감소 + 위로 이동)
- **타이밍**:
  - 카드 사용 → 300ms 후 소멸 시작 → 600ms 동안 애니메이션 → 제거

#### 시각적 효과:
- 사용된 카드가 빛나며 강조됨 (펄스)
- 부드럽게 투명해지며 위로 떠오름
- 손패에서 자연스럽게 사라짐
- 페이즈 전환 시 자동 초기화

---

## 파일 변경사항

### src/components/battle/LegacyBattleApp.jsx
- 새로운 상태 추가: `disappearingCards`, `hiddenCards` (675-676줄)
- `stepOnce` 함수 수정: 카드 소멸 애니메이션 로직 추가 (1037-1047줄)
- 페이즈 변경 시 애니메이션 상태 초기화 useEffect 추가 (767-773줄)
- 진행 단계 카드 렌더링 로직 수정: 애니메이션 상태 적용 (1560-1572줄)
- 콤보 배율 텍스트 크기: 0.8em → 1.04em (1250줄)

### src/components/battle/legacy-battle.css
- 카드 소멸 애니메이션 추가: `@keyframes cardDisappear` (1127-1140줄)
- `.card-disappearing` 클래스 추가 (1142-1145줄)
- `.card-used` 클래스 추가: 펄스 효과 (1147-1150줄)
- `@keyframes pulse` 추가 (1152-1159줄)

### src/components/map/MapDemo.jsx
- 버전 태그: `11-18-13:48` → `11-18-13:55` (108줄)

---

## 개선사항
✨ 콤보 배율 텍스트 30% 크기 증가 (가독성 향상)
✨ 진행 단계 카드 소멸 애니메이션 구현 (부드러운 UX)
✨ 펄스 + 페이드아웃 2단계 애니메이션 (시각적 완성도)
✨ 페이즈 전환 시 자동 정리 (깔끔한 상태 관리)

## UX 개선
- **명확한 피드백**: 카드 사용 시 빛나는 효과로 즉각 반응
- **자연스러운 흐름**: 카드가 부드럽게 사라지며 손패 정리
- **시각적 만족감**: 투명해지며 위로 떠오르는 효과
- **깔끔한 화면**: 사용된 카드가 자동으로 제거되어 화면 정리

---

## 애니메이션 타이밍 상세
| 단계 | 시간 | 효과 |
|------|------|------|
| 카드 사용 | 0ms | 클릭/E키 |
| 펄스 시작 | 0-300ms | 카드 빛나며 강조 (1.05배 확대) |
| 소멸 시작 | 300ms | 페이드아웃 애니메이션 시작 |
| 소멸 진행 | 300-900ms | 투명도 감소 + 위로 이동 |
| 완전 제거 | 900ms | 렌더링에서 제거 |

---

**패치 시간**: 2025-11-18 13:55 (KST)
**이전 버전**: v11-18-13:48
